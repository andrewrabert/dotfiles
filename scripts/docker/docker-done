#!/bin/sh
set -e

YELLOW='\033[1;33m'
RESET_COLOR='\033[0m'

log() {
    printf "${YELLOW}$1${RESET_COLOR}\n"
}

all_containers=$(docker ps -aq)

log "Killing containers ..."
if [ -n "$all_containers" ]; then
    docker kill $all_containers
fi
log "Removing containers ..."
if [ -n "$all_containers" ]; then
    docker rm -f $all_containers
fi

log "Pruning volumes ..."
docker volume prune -f
log "Pruning networks ..."
docker network prune -f
