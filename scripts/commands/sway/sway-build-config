#!/usr/bin/env sh
set -eu

eval "$(base16-export --upper)"

BASE16_BACKGROUND="${BASE16_BACKGROUND:-000000}"
BASE16_FOREGROUND="${BASE16_FOREGROUND:-FFFFFF}"
BASE16_COLOR0="${BASE16_COLOR0:-000000}"
BASE16_COLOR1="${BASE16_COLOR1:-000000}"
BASE16_COLOR2="${BASE16_COLOR2:-000000}"
BASE16_COLOR3="${BASE16_COLOR3:-000000}"
BASE16_COLOR4="${BASE16_COLOR4:-000000}"
BASE16_COLOR5="${BASE16_COLOR5:-000000}"
BASE16_COLOR6="${BASE16_COLOR6:-000000}"
BASE16_COLOR7="${BASE16_COLOR7:-000000}"
BASE16_COLOR8="${BASE16_COLOR8:-000000}"
BASE16_COLOR9="${BASE16_COLOR9:-000000}"
BASE16_COLOR10="${BASE16_COLOR10:-000000}"
BASE16_COLOR11="${BASE16_COLOR11:-000000}"
BASE16_COLOR12="${BASE16_COLOR12:-000000}"
BASE16_COLOR13="${BASE16_COLOR13:-000000}"
BASE16_COLOR14="${BASE16_COLOR14:-000000}"
BASE16_COLOR15="${BASE16_COLOR15:-000000}"
BASE16_COLOR16="${BASE16_COLOR16:-000000}"
BASE16_COLOR17="${BASE16_COLOR17:-000000}"
BASE16_COLOR18="${BASE16_COLOR18:-000000}"
BASE16_COLOR19="${BASE16_COLOR19:-000000}"
BASE16_COLOR20="${BASE16_COLOR20:-000000}"
BASE16_COLOR21="${BASE16_COLOR21:-000000}"

BORDER_WIDTH="${BORDER_WIDTH:-4}"

FONT_NAME="${FONT_NAME:-monospace}"
FONT_SIZE="${FONT_SIZE:-12}"

cat > ~/.config/sway/config << EOF
set \$mod Mod4
set \$gap_size 0px
set \$border_size ${BORDER_WIDTH}

set \$color_bg #${BASE16_BACKGROUND}
set \$color_fg #${BASE16_FOREGROUND}
set \$color_00 #${BASE16_COLOR0}
set \$color_01 #${BASE16_COLOR1}
set \$color_02 #${BASE16_COLOR2}
set \$color_03 #${BASE16_COLOR3}
set \$color_04 #${BASE16_COLOR4}
set \$color_05 #${BASE16_COLOR5}
set \$color_06 #${BASE16_COLOR6}
set \$color_07 #${BASE16_COLOR7}
set \$color_08 #${BASE16_COLOR8}
set \$color_09 #${BASE16_COLOR9}
set \$color_10 #${BASE16_COLOR10}
set \$color_11 #${BASE16_COLOR11}
set \$color_12 #${BASE16_COLOR12}
set \$color_13 #${BASE16_COLOR13}
set \$color_14 #${BASE16_COLOR14}
set \$color_15 #${BASE16_COLOR15}
set \$color_16 #${BASE16_COLOR16}
set \$color_17 #${BASE16_COLOR17}
set \$color_18 #${BASE16_COLOR18}
set \$color_19 #${BASE16_COLOR19}
set \$color_20 #${BASE16_COLOR20}
set \$color_21 #${BASE16_COLOR21}

set \$font ${FONT_NAME}
set \$fontSize ${FONT_SIZE}

output * background #${BASE16_BACKGROUND} solid_color

include config.d/*.conf
include config.d/hostname/\`hostname\`.conf
EOF
