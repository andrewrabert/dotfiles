#!/bin/bash
. "${DOTFILES_DIR}"/zsh/env/syncthing.env
TODO_FILE="${SYNCTHING_DIR}"/Notes/todo.txt

if [[ $# -eq 1 && $1 == '-l' ]]; then
   TOKENIZED=$(sed 's/ /\n/g' "${TODO_FILE}" | sort -u)
   echo "${TOKENIZED}" | grep '^@'
   echo
   echo "${TOKENIZED}" | grep '^+'
   exit
fi

if [ -z "$1" ]; then
    nvim "${TODO_FILE}"
else
    echo $(date +%Y-%m-%d) $@ >> "${TODO_FILE}"
fi
