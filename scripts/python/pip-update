#!/usr/bin/env bash
set -e

if ! [ -x "$(command -v pip)" ]; then
    curl -O https://bootstrap.pypa.io/get-pip.py
    python get-pip.py --user
    rm get-pip.py
fi

packages=$(pip list --outdated --format=freeze)

pip install -U pip setuptools wheel
if [[ ! -z $packages ]]; then
    echo "${packages}" | grep -v '^\-e' | cut -d = -f 1 | xargs pip install --upgrade
fi
