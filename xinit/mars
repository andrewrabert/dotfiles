dotfiles_dir=~/Code/GitHub/nvllsvm/dotfiles

if [ -d /etc/X11/xinit/xinitrc.d ] ; then
    for f in /etc/X11/xinit/xinitrc.d/?*.sh ; do
        [ -x "$f" ] && . "$f"
    done
    unset f
fi

setxkbmap -option terminate:ctrl_alt_bksp

xset -dpms; xset s off

export __GL_SYNC_TO_VBLANK=1
export __GL_SYNC_DISPLAY_DEVICE=DFP-6
export __VDPAU_NVIDIA_SYNC_DISPLAY_DEVICE=DFP-6

export SDL_VIDEO_FULLSCREEN_HEAD=0
export SDL_AUDIODRIVER=alsa

~/.bin/general/starttriple &
#~/.bin/general/startcompositing &

xrdb "$dotfiles_dir"/xresources/general
xrdb -merge "$dotfiles_dir"/xresources/mars

xbindkeys -f "$dotfiles_dir"/xbindkeys/mars
QSyncthingTray &

rm -rf ~/.config/i3
mkdir ~/.config/i3
cat "$dotfiles_dir"/i3/general > ~/.config/i3/config
cat "$dotfiles_dir"/i3/mars >> ~/.config/i3/config

startcompositing

exec dbus-launch i3
